<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>无标题文档</title>
</head>
<style>
  #scroll{
	  width:400px;
	  height:8px;
	  background-color:#ccc;
	  position:relative;
	  margin:100px;}
  #bar{
	width:10px;
	height:22px;
	position:absolute;
	background-color:#306;
	cursor:pointer;
	top:-7px;
	left:0;}
   #mask{
	   width:0;
	   height:8px;
	   position:absolute;
	   top:0;
	   left:0;
	   background-color:#306}
</style>
<body>
<div id="scroll">
   <div id="bar"></div>
   <div id="mask"></div>
</div>
<div id="txt"></div>
</body>
<script>
    var scrol=document.getElementById("scroll");
	var bar=scrol.children[0];
	var mask=scrol.children[1];
	var txt=document.getElementById("txt");
	bar.onmousedown=function(event){
		var event =event||window.event;
		var leftval=event.clientX-this.offsetLeft;
		var that=this;
		  document.onmousemove=function(event){
			  var event =event||window.event;
			  var len=event.clientX-leftval;
			  if(len<=0)
			     {len=0;
				 }else if(len>390){
					 len=390;}
    		  that.style.left=len+"px";
			  mask.style.width=len+"px";
			  txt.innerHTML="已经走了"+parseInt(len/390*100)+"%";
			    window.getSelection ? window.getSelection().removeAllRanges() : document.selection.empty();
			  }
			  document.onmouseup=function(){
				  document.onmousemove=null;
				  }
		}
</script>
</html>
